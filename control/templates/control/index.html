{% extends 'control/base.html' %}

{% load static %}

{% block title %}people one{% endblock title %}

{% block inner_content %}
{% verbatim %}
<div ng-app="myApp">
	<div ng-controller="ServiceShowCtrl">
		{{ servicio }}
	</div>
	<div ng-controller="ServiceIndexCtrl">
		<ul>
			<li ng-repeat="servicio in servicios.results">
				{{ $index }} {{ servicio }}
			</li>
		</ul>
	</div>
</div>
{% endverbatim %}
{% endblock inner_content %}

{% block js %}
<script type="text/javascript">
(function(){
	var app = angular.module('myApp', ['ngResource']);

	app.factory("Service", function($resource) {
	  return $resource("/api/services/:id");
	});

	app.controller("ServiceIndexCtrl", function($scope, Service) {
	  	Service.query(function(data) {
		    $scope.servicios = data;
    	});
	});

	app.controller("ServiceShowCtrl", function($scope, Service) {
		Service.get({ id: 7 }, function(data) {
			$scope.servicio = data;
		});
	});
})()
</script>
{% endblock js %}